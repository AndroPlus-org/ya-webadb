import { Stack } from "@fluentui/react";
import Head from 'next/head';
import { ExternalLink } from '../components';
import { RouteStackProps } from "../utils";

<!--
cspell: ignore cybojenix
-->

<ExternalLink href="https://github.com/AndroPlus-org/ya-webadb">ya-webadb</ExternalLink> では、ウェブブラウザから ADB プロトコルを使ってデバイスをコントロールできます。

WebUSB に対応した環境であれば、追加のドライバーインストールをすることなく簡単に接続できます。

「追加」ボタンを押してどのデバイスに接続するか選び、「接続」を押してください。

デバイス側で USB デバッグを許可するか聞かれるので、許可してください。

## セキュリティに関する懸念

ウェブページから USB デバイス (特にスマートフォン) に直接アクセスすることは、**非常に危険です**。Firefox の開発者は、<ExternalLink href="https://mozilla.github.io/standards-positions/#webusb">それが有害である</ExternalLink>と見なし、WebUSB 標準の実装を拒否したほどです。

このページについては、以下の通り安全性を確保しています。

1. ネイティブアプリとは異なり、ウェブアプリは確認なしにデバイスにアクセスすることはできません。ADB での接続確認ポップアップに加え、ブラウザはユーザーに許可を求め、ウェブアプリは選択されたデバイスにしかアクセスできません。
2. このプロジェクトのすべてのソースコードは、<ExternalLink href="https://github.com/AndroPlus-org/ya-webadb">GitHub</ExternalLink> でオープンソース化されています。自分でレビューすることもできます（または、信頼できるコーディングに詳しい人を見つけてレビューしてもらうこともできます）。
3. このサイトは、<ExternalLink href="https://github.com/AndroPlus-org/ya-webadb/blob/master/.github/workflows/nodejs.yml" spaceAfter>GitHub Actions</ExternalLink> によってビルド・デプロイされ、あなたが見るものがソースコードと全く同じであることを保証しています。

## 互換性

現在 WebUSB API をサポートしているのは、Chromium ベースのブラウザ（Chrome、Microsoft Edge、Opera）のみです。前述したように、Firefox が実装する可能性は低いです。

## よくある質問

### "Unable to claim interface" エラーが出る

1つの USB デバイスには、同時に1つのアプリからしかアクセスできません。以下を確認してください：

1. 公式 ADB サーバーを起動している (`adb kill-server` で停止できます).
2. 他の Android 管理ツールを起動している
3. 他の WebADB ページで既に接続されている

### ワイヤレス接続（ADB over WiFi）は可能ですか？

接続の橋渡しをするために、別途ソフトウェアが必要です。 <ExternalLink href="https://github.com/yume-chan/ya-webadb/discussions/245#discussioncomment-384030">こちらの議論</ExternalLink>を確認してください。

export default ({children}) => (
    <div style={{ height: '100%', padding: '0 16px', overflow: 'auto' }}>
        <Head>
            <title>WebADB</title>
        </Head>
        {children}
    </div>
);
